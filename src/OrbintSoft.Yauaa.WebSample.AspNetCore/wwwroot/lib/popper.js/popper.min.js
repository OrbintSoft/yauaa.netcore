/**
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 0.6.4
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
(function(n,t){typeof define=="function"&&define.amd?define(t):typeof module=="object"&&module.exports?module.exports=t():n.Popper=t()})(this,function(){"use strict";function t(n,t,i){this._reference=n.jquery?n[0]:n;this.state={onCreateCalled:!1};var u=typeof t=="undefined"||t===null,r=t&&Object.prototype.toString.call(t)==="[object Object]";return this._popper=u||r?this.parse(r?t:{}):t.jquery?t[0]:t,this._options=Object.assign({},d,i),this._options.modifiers=this._options.modifiers.map(function(n){if(this._options.modifiersIgnored.indexOf(n)===-1)return n==="applyStyle"&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[n]||n}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),s(this._popper,{position:this.state.position}),this.state.isParentTransformed=this._getIsParentTransformed(this._popper),this.update(),this._setupEventListeners(),this}function l(t){var r=t.style.display,u=t.style.visibility;t.style.display="block";t.style.visibility="hidden";var s=t.offsetWidth,i=n.getComputedStyle(t),f=parseFloat(i.marginTop)+parseFloat(i.marginBottom),e=parseFloat(i.marginLeft)+parseFloat(i.marginRight),o={width:t.offsetWidth+e,height:t.offsetHeight+f};return t.style.display=r,t.style.visibility=u,o}function a(n){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,function(n){return t[n]})}function i(n){var t=Object.assign({},n);return t.right=t.left+t.width,t.bottom=t.top+t.height,t}function v(n,t){var i=0;for(var r in n){if(n[r]===t)return i;i++}return null}function f(t,i){var r=n.getComputedStyle(t,null);return r[i]}function e(t){var i=t.offsetParent;return i===n.document.body||!i?n.document.documentElement:i}function r(t){return t===n.document?n.document.body.scrollTop?n.document.body:n.document.documentElement:["scroll","auto"].indexOf(f(t,"overflow"))!==-1||["scroll","auto"].indexOf(f(t,"overflow-x"))!==-1||["scroll","auto"].indexOf(f(t,"overflow-y"))!==-1?t===n.document.body?r(t.parentNode):t:t.parentNode?r(t.parentNode):t}function y(t){return t===n.document.body||t.nodeName==="HTML"?!1:f(t,"position")==="fixed"?!0:t.parentNode?y(t.parentNode):t}function p(t){return t===n.document.body?!1:f(t,"transform")!=="none"?!0:t.parentNode?p(t.parentNode):t}function s(n,t){function i(n){return n!==""&&!isNaN(parseFloat(n))&&isFinite(n)}Object.keys(t).forEach(function(r){var u="";["width","height","top","right","bottom","left"].indexOf(r)!==-1&&i(t[r])&&(u="px");n.style[r]=t[r]+u})}function h(n){return n&&{}.toString.call(n)==="[object Function]"}function w(n){var t={width:n.offsetWidth,height:n.offsetHeight,left:n.offsetLeft,top:n.offsetTop};return t.right=t.left+t.width,t.bottom=t.top+t.height,t}function b(n){var t=n.getBoundingClientRect();return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.right-t.left,height:t.bottom-t.top}}function g(n,t,i,u){var f=b(n),e=b(t),o;return i&&!u&&(o=r(t),e.top+=o.scrollTop,e.bottom+=o.scrollTop,e.left+=o.scrollLeft,e.right+=o.scrollLeft),{top:f.top-e.top,left:f.left-e.left,bottom:f.top-e.top+f.height,right:f.left-e.left+f.width,width:f.width,height:f.height}}function k(t){for(var u,r=["","ms","webkit","moz","o"],i=0;i<r.length;i++)if(u=r[i]?r[i]+t.charAt(0).toUpperCase()+t.slice(1):t,typeof n.document.body.style[u]!="undefined")return u;return null}var n=window,d={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[]},c,o,u;if(t.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[k("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.parentNode.removeChild(this._popper),this},t.prototype.update=function(){var t={instance:this,styles:{}};this.state.position=this._getPosition(this._popper,this._reference);s(this._popper,{position:this.state.position});n.requestAnimationFrame(function(){var i=n.performance.now();i-this.state.lastFrame<=16||(this.state.lastFrame=i,t.placement=this._options.placement,t._originalPlacement=this._options.placement,t.offsets=this._getOffsets(this._popper,this._reference,t.placement),t.boundaries=this._getBoundaries(t,this._options.boundariesPadding,this._options.boundariesElement),t=this.runModifiers(t,this._options.modifiers),h(this.state.createCalback)||(this.state.onCreateCalled=!0),this.state.onCreateCalled?h(this.state.updateCallback)&&this.state.updateCallback(t):(this.state.onCreateCalled=!0,h(this.state.createCalback)&&this.state.createCalback(this)))}.bind(this))},t.prototype.onCreate=function(n){return this.state.createCalback=n,this},t.prototype.onUpdate=function(n){return this.state.updateCallback=n,this},t.prototype.parse=function(t){function e(n,t){t.forEach(function(t){n.classList.add(t)})}function o(n,t){t.forEach(function(t){n.setAttribute(t.split(":")[0],t.split(":")[1]||"")})}var s={tagName:"div",classNames:["popper"],attributes:[],parent:n.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]},u,r,f,i;if(t=Object.assign({},s,t),u=n.document,r=u.createElement(t.tagName),e(r,t.classNames),o(r,t.attributes),t.contentType==="node"?r.appendChild(t.content.jquery?t.content[0]:t.content):t.contentType==="html"?r.innerHTML=t.content:r.textContent=t.content,t.arrowTagName&&(f=u.createElement(t.arrowTagName),e(f,t.arrowClassNames),o(f,t.arrowAttributes),r.appendChild(f)),i=t.parent.jquery?t.parent[0]:t.parent,typeof i=="string"){if(i=u.querySelectorAll(t.parent),i.length>1&&console.warn("WARNING: the given `parent` query("+t.parent+") matched more than one element, the first one will be used"),i.length===0)throw"ERROR: the given `parent` doesn't exists!";i=i[0]}return i.length>1&&i instanceof Element==!1&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),i=i[0]),i.appendChild(r),r},t.prototype._getPosition=function(n,t){var i=e(t),r=y(i);return r?"fixed":"absolute"},t.prototype._getIsParentTransformed=function(n){return p(n.parentNode)},t.prototype._getOffsets=function(n,t,i){var r;i=i.split("-")[0];r={};r.position=this.state.position;var o=r.position==="fixed",s=this.state.isParentTransformed,h=o&&s?e(t):e(n),u=g(t,h,o,s),f=l(n);return["right","left"].indexOf(i)!==-1?(r.top=u.top+u.height/2-f.height/2,r.left=i==="left"?u.left-f.width:u.right):(r.left=u.left+u.width/2-f.width/2,r.top=i==="top"?u.top-f.height:u.bottom),r.width=f.width,r.height=f.height,{popper:r,reference:u}},t.prototype._setupEventListeners=function(){if(this.state.updateBound=this.update.bind(this),n.addEventListener("resize",this.state.updateBound),this._options.boundariesElement!=="window"){var t=r(this._reference);(t===n.document.body||t===n.document.documentElement)&&(t=n);t.addEventListener("scroll",this.state.updateBound)}},t.prototype._removeEventListeners=function(){if(n.removeEventListener("resize",this.state.updateBound),this._options.boundariesElement!=="window"){var t=r(this._reference);(t===n.document.body||t===n.document.documentElement)&&(t=n);t.removeEventListener("scroll",this.state.updateBound)}this.state.updateBound=null},t.prototype._getBoundaries=function(t,i,u){var f={},c,l,s,o;if(u==="window")s=n.document.body,o=n.document.documentElement,l=Math.max(s.scrollHeight,s.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight),c=Math.max(s.scrollWidth,s.offsetWidth,o.clientWidth,o.scrollWidth,o.offsetWidth),f={top:0,right:c,bottom:l,left:0};else if(u==="viewport"){var p=e(this._popper),a=r(this._popper),h=w(p),v=t.offsets.popper.position==="fixed"?0:a.scrollTop,y=t.offsets.popper.position==="fixed"?0:a.scrollLeft;f={top:0-(h.top-v),right:n.document.documentElement.clientWidth-(h.left-y),bottom:n.document.documentElement.clientHeight-(h.top-v),left:0-(h.left-y)}}else f=e(this._popper)===u?{top:0,left:0,right:u.clientWidth,bottom:u.clientHeight}:w(u);return f.left+=i,f.right-=i,f.top=f.top+i,f.bottom=f.bottom-i,f},t.prototype.runModifiers=function(n,t,i){var r=t.slice();return i!==undefined&&(r=this._options.modifiers.slice(0,v(this._options.modifiers,i))),r.forEach(function(t){h(t)&&(n=t.call(this,n))}.bind(this)),n},t.prototype.isModifierRequired=function(n,t){var i=v(this._options.modifiers,n);return!!this._options.modifiers.slice(0,i).filter(function(n){return n===t}).length},t.prototype.modifiers={},t.prototype.modifiers.applyStyle=function(n){var t={position:n.offsets.popper.position},i=Math.round(n.offsets.popper.left),r=Math.round(n.offsets.popper.top),u;return this._options.gpuAcceleration&&(u=k("transform"))?(t[u]="translate3d("+i+"px, "+r+"px, 0)",t.top=0,t.left=0):(t.left=i,t.top=r),Object.assign(t,n.styles),s(this._popper,t),this._popper.setAttribute("x-placement",n.placement),n.offsets.arrow&&s(n.arrowElement,n.offsets.arrow),n},t.prototype.modifiers.shift=function(n){var u=n.placement,e=u.split("-")[0],f=u.split("-")[1];if(f){var t=n.offsets.reference,r=i(n.offsets.popper),o={y:{start:{top:t.top},end:{top:t.top+t.height-r.height}},x:{start:{left:t.left},end:{left:t.left+t.width-r.width}}},s=["bottom","top"].indexOf(e)!==-1?"x":"y";n.offsets.popper=Object.assign(r,o[s][f])}return n},t.prototype.modifiers.preventOverflow=function(n){var r=this._options.preventOverflowOrder,t=i(n.offsets.popper),u={left:function(){var i=t.left;return t.left<n.boundaries.left&&(i=Math.max(t.left,n.boundaries.left)),{left:i}},right:function(){var i=t.left;return t.right>n.boundaries.right&&(i=Math.min(t.left,n.boundaries.right-t.width)),{left:i}},top:function(){var i=t.top;return t.top<n.boundaries.top&&(i=Math.max(t.top,n.boundaries.top)),{top:i}},bottom:function(){var i=t.top;return t.bottom>n.boundaries.bottom&&(i=Math.min(t.top,n.boundaries.bottom-t.height)),{top:i}}};return r.forEach(function(i){n.offsets.popper=Object.assign(t,u[i]())}),n},t.prototype.modifiers.keepTogether=function(n){var u=i(n.offsets.popper),t=n.offsets.reference,r=Math.floor;return u.right<r(t.left)&&(n.offsets.popper.left=r(t.left)-u.width),u.left>r(t.right)&&(n.offsets.popper.left=r(t.right)),u.bottom<r(t.top)&&(n.offsets.popper.top=r(t.top)-u.height),u.top>r(t.bottom)&&(n.offsets.popper.top=r(t.bottom)),n},t.prototype.modifiers.flip=function(n){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),n;if(n.flipped&&n.placement===n._originalPlacement)return n;var t=n.placement.split("-")[0],r=a(t),f=n.placement.split("-")[1]||"",u=[];return u=this._options.flipBehavior==="flip"?[t,r]:this._options.flipBehavior,u.forEach(function(e,o){if(t===e&&u.length!==o+1){t=n.placement.split("-")[0];r=a(t);var s=i(n.offsets.popper),h=["right","bottom"].indexOf(t)!==-1;(h&&Math.floor(n.offsets.reference[t])>Math.floor(s[r])||!h&&Math.floor(n.offsets.reference[t])<Math.floor(s[r]))&&(n.flipped=!0,n.placement=u[o+1],f&&(n.placement+="-"+f),n.offsets.popper=this._getOffsets(this._popper,this._reference,n.placement).popper,n=this.runModifiers(n,this._options.modifiers,this._flip))}}.bind(this)),n},t.prototype.modifiers.offset=function(n){var t=this._options.offset,i=n.offsets.popper;return n.placement.indexOf("left")!==-1?i.top-=t:n.placement.indexOf("right")!==-1?i.top+=t:n.placement.indexOf("top")!==-1?i.left-=t:n.placement.indexOf("bottom")!==-1&&(i.left+=t),n},t.prototype.modifiers.arrow=function(n){var r=this._options.arrowElement,v,h;if(typeof r=="string"&&(r=this._popper.querySelector(r)),!r)return n;if(!this._popper.contains(r))return console.warn("WARNING: `arrowElement` must be child of its popper element!"),n;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"),n;var c={},y=n.placement.split("-")[0],e=i(n.offsets.popper),u=n.offsets.reference,o=["left","right"].indexOf(y)!==-1,a=o?"height":"width",t=o?"top":"left",p=o?"left":"top",s=o?"bottom":"right",f=l(r)[a];return u[s]-f<e[t]&&(n.offsets.popper[t]-=e[t]-(u[s]-f)),u[t]+f>e[s]&&(n.offsets.popper[t]+=u[t]+f-e[s]),v=u[t]+u[a]/2-f/2,h=v-i(n.offsets.popper)[t],h=Math.max(Math.min(e[a]-f,h),0),c[t]=h,c[p]="",n.offsets.arrow=c,n.arrowElement=r,n},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var f,i,t,e,r,s,u,o;if(n===undefined||n===null)throw new TypeError("Cannot convert first argument to object");for(f=Object(n),i=1;i<arguments.length;i++)if(t=arguments[i],t!==undefined&&t!==null)for(t=Object(t),e=Object.keys(t),r=0,s=e.length;r<s;r++)u=e[r],o=Object.getOwnPropertyDescriptor(t,u),o!==undefined&&o.enumerable&&(f[u]=t[u]);return f}}),!n.requestAnimationFrame){for(c=0,o=["ms","moz","webkit","o"],u=0;u<o.length&&!n.requestAnimationFrame;++u)n.requestAnimationFrame=n[o[u]+"RequestAnimationFrame"],n.cancelAnimationFrame=n[o[u]+"CancelAnimationFrame"]||n[o[u]+"CancelRequestAnimationFrame"];n.requestAnimationFrame||(n.requestAnimationFrame=function(t){var i=(new Date).getTime(),r=Math.max(0,16-(i-c)),u=n.setTimeout(function(){t(i+r)},r);return c=i+r,u});n.cancelAnimationFrame||(n.cancelAnimationFrame=function(n){clearTimeout(n)})}return t});