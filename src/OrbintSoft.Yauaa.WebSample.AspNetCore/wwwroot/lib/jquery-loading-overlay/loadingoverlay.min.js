(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof module=="object"&&module.exports?n(require("jquery")):n(jQuery)})(function(n,t){"use strict";function y(t,o){var v,h,c,p,y;t=n(t);o.size=a(o.size);o.maxSize=parseInt(o.maxSize,10)||0;o.minSize=parseInt(o.minSize,10)||0;o.resizeInterval=parseInt(o.resizeInterval,10)||0;v=e(t);h=u(t);h===!1&&(h=n.extend({},d),h.container=t,h.wholePage=t.is("body"),v=n("<div>",{"class":"loadingoverlay"}).css(i.overlay).css("flex-direction",o.direction.toLowerCase()==="row"?"row":"column"),o.backgroundClass?v.addClass(o.backgroundClass):v.css("background",o.background),h.wholePage&&v.css({position:"fixed",top:0,left:0,width:"100%",height:"100%"}),typeof o.zIndex!="undefined"&&v.css("z-index",o.zIndex),o.image&&(n.isArray(o.imageColor)?o.imageColor=o.imageColor.length===0?!1:o.imageColor.length===1?{fill:o.imageColor[0]}:{fill:o.imageColor[0],stroke:o.imageColor[1]}:o.imageColor&&(o.imageColor={fill:o.imageColor}),c=f(v,o.imageOrder,o.imageAutoResize,o.imageResizeFactor,o.imageAnimation),o.image.slice(0,4).toLowerCase()==="<svg"&&o.image.slice(-6).toLowerCase()==="<\/svg>"?(c.append(o.image),c.children().css(i.element_svg),!o.imageClass&&o.imageColor&&c.find("*").css(o.imageColor)):o.image.slice(-4).toLowerCase()===".svg"||o.image.slice(0,14).toLowerCase()==="data:image/svg"?n.ajax({url:o.image,type:"GET",dataType:"html",global:!1}).done(function(n){c.html(n);c.children().css(i.element_svg);!o.imageClass&&o.imageColor&&c.find("*").css(o.imageColor)}):c.css({"background-image":"url("+o.image+")","background-position":"center","background-repeat":"no-repeat","background-size":"cover"}),o.imageClass&&c.addClass(o.imageClass)),o.fontawesome&&(c=f(v,o.fontawesomeOrder,o.fontawesomeAutoResize,o.fontawesomeResizeFactor,o.fontawesomeAnimation).addClass("loadingoverlay_fa"),n("<div>",{"class":o.fontawesome}).appendTo(c),o.fontawesomeColor&&c.css("color",o.fontawesomeColor)),o.custom&&(c=f(v,o.customOrder,o.customAutoResize,o.customResizeFactor,o.customAnimation).append(o.custom)),o.text&&(h.text=f(v,o.textOrder,o.textAutoResize,o.textResizeFactor,o.textAnimation).addClass("loadingoverlay_text").text(o.text),o.textClass?h.text.addClass(o.textClass):o.textColor&&h.text.css("color",o.textColor)),o.progress&&(c=f(v,o.progressOrder,o.progressAutoResize,o.progressResizeFactor,!1).addClass("loadingoverlay_progress"),p=n("<div>").css(i.progress_wrapper).appendTo(c),h.progress={bar:n("<div>").css(i.progress_bar).appendTo(p),fixed:!1,margin:0,min:parseFloat(o.progressMin),max:parseFloat(o.progressMax),speed:parseInt(o.progressSpeed,10)},y=(o.progressFixedPosition+"").replace(/\s\s+/g," ").toLowerCase().split(" "),y.length===2&&l(y[0])?(h.progress.fixed=y[0],h.progress.margin=a(y[1])):y.length===2&&l(y[1])?(h.progress.fixed=y[1],h.progress.margin=a(y[0])):y.length===1&&l(y[0])&&(h.progress.fixed=y[0],h.progress.margin=0),h.progress.fixed==="top"?c.css(i.progress_fixed).css("top",h.progress.margin?h.progress.margin.value+(h.progress.margin.fixed?h.progress.margin.units:"%"):0):h.progress.fixed==="bottom"&&c.css(i.progress_fixed).css("top","auto"),o.progressClass?h.progress.bar.addClass(o.progressClass):o.progressColor&&h.progress.bar.css("background",o.progressColor)),o.fade?o.fade===!0?o.fade=r.fade:typeof o.fade=="string"||typeof o.fade=="number"?o.fade=[o.fade,o.fade]:n.isArray(o.fade)&&o.fade.length<2&&(o.fade=[o.fade[0],o.fade[0]]):o.fade=[0,0],o.fade=[parseInt(o.fade[0],10),parseInt(o.fade[1],10)],h.settings=o,v.data("loadingoverlay_data",h),t.data("loadingoverlay",v),v.fadeTo(0,.01).appendTo("body"),s(t,!0),o.resizeInterval>0&&(h.resizeIntervalId=setInterval(function(){s(t,!1)},o.resizeInterval)),v.fadeTo(o.fade[0],1));h.count++}function p(t,i){t=n(t);var f=e(t),r=u(t);r!==!1&&(r.count--,(i||r.count<=0)&&f.animate({opacity:0},r.settings.fade[1],function(){r.resizeIntervalId&&clearInterval(r.resizeIntervalId);n(this).remove();t.removeData("loadingoverlay")}))}function w(t){s(n(t),!0)}function b(t,i){t=n(t);var r=u(t);r!==!1&&r.text&&(i===!1?r.text.hide():r.text.show().text(i))}function k(t,i){var r,f;(t=n(t),r=u(t),r!==!1&&r.progress)&&(i===!1?r.progress.bar.hide():(f=((parseFloat(i)||0)-r.progress.min)*100/(r.progress.max-r.progress.min),f<0&&(f=0),f>100&&(f=100),r.progress.bar.show().animate({width:f+"%"},r.progress.speed)))}function s(t,i){var c=e(t),r=u(t),o,s,h,f;r!==!1&&(r.wholePage||(o=t.css("position")==="fixed",s=o?t[0].getBoundingClientRect():t.offset(),c.css({position:o?"fixed":"absolute",top:s.top+parseInt(t.css("border-top-width"),10),left:s.left+parseInt(t.css("border-left-width"),10),width:t.innerWidth(),height:t.innerHeight()})),r.settings.size&&(h=r.wholePage?n(window):t,f=r.settings.size.value,r.settings.size.fixed||(f=Math.min(h.innerWidth(),h.innerHeight())*f/100,r.settings.maxSize&&f>r.settings.maxSize&&(f=r.settings.maxSize),r.settings.minSize&&f<r.settings.minSize&&(f=r.settings.minSize)),c.children(".loadingoverlay_element").each(function(){var t=n(this),u;(i||t.data("loadingoverlay_autoresize"))&&(u=t.data("loadingoverlay_resizefactor"),t.hasClass("loadingoverlay_fa")||t.hasClass("loadingoverlay_text")?t.css("font-size",f*u+r.settings.size.units):t.hasClass("loadingoverlay_progress")?(r.progress.bar.css("height",f*u+r.settings.size.units),r.progress.fixed?r.progress.fixed==="bottom"&&t.css("bottom",r.progress.margin?r.progress.margin.value+(r.progress.margin.fixed?r.progress.margin.units:"%"):0).css("bottom","+="+f*u+r.settings.size.units):r.progress.bar.css("top",t.position().top).css("top","-="+f*u*.5+r.settings.size.units)):t.css({width:f*u+r.settings.size.units,height:f*u+r.settings.size.units}))})))}function e(n){return n.data("loadingoverlay")}function u(i){var r=e(i),u=typeof r=="undefined"?t:r.data("loadingoverlay_data");return typeof u=="undefined"?(n(".loadingoverlay").each(function(){var i=n(this),t=i.data("loadingoverlay_data");document.body.contains(t.container[0])||(t.resizeIntervalId&&clearInterval(t.resizeIntervalId),i.remove())}),!1):(r.toggle(i.is(":visible")),u)}function f(t,u,f,e,o){var v=n("<div>",{"class":"loadingoverlay_element",css:{order:u}}).css(i.element).data({loadingoverlay_autoresize:f,loadingoverlay_resizefactor:e}).appendTo(t),l,a,s;return o===!0&&(o=r.animations.time+" "+r.animations.name),typeof o=="string"&&(s=o.replace(/\s\s+/g," ").toLowerCase().split(" "),s.length===2&&h(s[0])&&c(s[1])?(l=s[1],a=s[0]):s.length===2&&h(s[1])&&c(s[0])?(l=s[0],a=s[1]):s.length===1&&h(s[0])?(l=r.animations.name,a=s[0]):s.length===1&&c(s[0])&&(l=s[0],a=r.animations.time),v.css({"animation-name":"loadingoverlay_animation__"+l,"animation-duration":a,"animation-timing-function":"linear","animation-iteration-count":"infinite"})),v}function h(n){return!isNaN(parseFloat(n))&&(n.slice(-1)==="s"||n.slice(-2)==="ms")}function c(n){return v.animations.indexOf(n)>-1}function l(n){return v.progressPosition.indexOf(n)>-1}function a(n){return!n||n<0?!1:typeof n=="string"&&["vmin","vmax"].indexOf(n.slice(-4))>-1?{fixed:!0,units:n.slice(-4),value:n.slice(0,-4)}:typeof n=="string"&&["rem"].indexOf(n.slice(-3))>-1?{fixed:!0,units:n.slice(-3),value:n.slice(0,-3)}:typeof n=="string"&&["px","em","cm","mm","in","pt","pc","vh","vw"].indexOf(n.slice(-2))>-1?{fixed:!0,units:n.slice(-2),value:n.slice(0,-2)}:{fixed:!1,units:"px",value:parseFloat(n)}}var o={background:"rgba(255, 255, 255, 0.8)",backgroundClass:"",image:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 1000'><circle r='80' cx='500' cy='90'/><circle r='80' cx='500' cy='910'/><circle r='80' cx='90' cy='500'/><circle r='80' cx='910' cy='500'/><circle r='80' cx='212' cy='212'/><circle r='80' cx='788' cy='212'/><circle r='80' cx='212' cy='788'/><circle r='80' cx='788' cy='788'/><\/svg>",imageAnimation:"2000ms rotate_right",imageAutoResize:!0,imageResizeFactor:1,imageColor:"#202020",imageClass:"",imageOrder:1,fontawesome:"",fontawesomeAnimation:"",fontawesomeAutoResize:!0,fontawesomeResizeFactor:1,fontawesomeColor:"#202020",fontawesomeOrder:2,custom:"",customAnimation:"",customAutoResize:!0,customResizeFactor:1,customOrder:3,text:"",textAnimation:"",textAutoResize:!0,textResizeFactor:.5,textColor:"#202020",textClass:"",textOrder:4,progress:!1,progressAutoResize:!0,progressResizeFactor:.25,progressColor:"#a0a0a0",progressClass:"",progressOrder:5,progressFixedPosition:"",progressSpeed:200,progressMin:0,progressMax:100,size:50,maxSize:120,minSize:20,direction:"column",fade:!0,resizeInterval:50,zIndex:2147483647},i={overlay:{"box-sizing":"border-box",position:"relative",display:"flex","flex-wrap":"nowrap","align-items":"center","justify-content":"space-around"},element:{"box-sizing":"border-box",overflow:"visible",flex:"0 0 auto",display:"flex","justify-content":"center","align-items":"center"},element_svg:{width:"100%",height:"100%"},progress_fixed:{position:"absolute",left:"0",width:"100%"},progress_wrapper:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},progress_bar:{position:"absolute",left:"0"}},d={count:0,container:t,settings:t,wholePage:t,resizeIntervalId:t,text:t,progress:t},v={animations:["rotate_right","rotate_left","fadein","pulse"],progressPosition:["top","bottom"]},r={animations:{name:"rotate_right",time:"2000ms"},fade:[400,200]};n.LoadingOverlaySetup=function(t){n.extend(!0,o,t)};n.LoadingOverlay=function(t,i){switch(t.toLowerCase()){case"show":var r=n.extend(!0,{},o,i);y("body",r);break;case"hide":p("body",i);break;case"resize":w("body",i);break;case"text":b("body",i);break;case"progress":k("body",i)}};n.fn.LoadingOverlay=function(t,i){switch(t.toLowerCase()){case"show":var r=n.extend(!0,{},o,i);return this.each(function(){y(this,r)});case"hide":return this.each(function(){p(this,i)});case"resize":return this.each(function(){w(this,i)});case"text":return this.each(function(){b(this,i)});case"progress":return this.each(function(){k(this,i)})}};n(function(){n("head").append("<style> @-webkit-keyframes loadingoverlay_animation__rotate_right { to { -webkit-transform : rotate(360deg); transform : rotate(360deg); } } @keyframes loadingoverlay_animation__rotate_right { to { -webkit-transform : rotate(360deg); transform : rotate(360deg); } } @-webkit-keyframes loadingoverlay_animation__rotate_left { to { -webkit-transform : rotate(-360deg); transform : rotate(-360deg); } } @keyframes loadingoverlay_animation__rotate_left { to { -webkit-transform : rotate(-360deg); transform : rotate(-360deg); } } @-webkit-keyframes loadingoverlay_animation__fadein { 0% { opacity   : 0; -webkit-transform : scale(0.1, 0.1); transform : scale(0.1, 0.1); } 50% { opacity   : 1; } 100% { opacity   : 0; -webkit-transform : scale(1, 1); transform : scale(1, 1); } } @keyframes loadingoverlay_animation__fadein { 0% { opacity   : 0; -webkit-transform : scale(0.1, 0.1); transform : scale(0.1, 0.1); } 50% { opacity   : 1; } 100% { opacity   : 0; -webkit-transform : scale(1, 1); transform : scale(1, 1); } } @-webkit-keyframes loadingoverlay_animation__pulse { 0% { -webkit-transform : scale(0, 0); transform : scale(0, 0); } 50% { -webkit-transform : scale(1, 1); transform : scale(1, 1); } 100% { -webkit-transform : scale(0, 0); transform : scale(0, 0); } } @keyframes loadingoverlay_animation__pulse { 0% { -webkit-transform : scale(0, 0); transform : scale(0, 0); } 50% { -webkit-transform : scale(1, 1); transform : scale(1, 1); } 100% { -webkit-transform : scale(0, 0); transform : scale(0, 0); } } <\/style>")})});
//# sourceMappingURL=loadingoverlay.min.js.map